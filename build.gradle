buildscript {
    ext.kotlin_version = '1.1.51'
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
    }
}

plugins {
    id "us.kirchmeier.capsule" version "1.0.2"
}

group 'usbpc'
version '0.2.0'

apply plugin: 'java'
apply plugin: 'kotlin'
apply plugin: 'application'

sourceCompatibility = 1.8


repositories {
    mavenCentral()
    jcenter()
    maven {
        url  "https://jitpack.io"
    }
}

dependencies {
    //compile group: "com.github.austinv11", name: "Discord4j", version: "2.9.2"
    compile group: "com.github.austinv11", name: "Discord4j", version: "cb37331"
    compile group: "com.google.code.gson", name:"gson", version: "2.8.0"

    compile group: "at.mukprojects", name: "giphy4j", version: "1.0.1"
    // https://mvnrepository.com/artifact/com.mchange/c3p0
    compile group: 'com.mchange', name: 'c3p0', version: '0.9.5.2'

    // https://mvnrepository.com/artifact/org.slf4j/slf4j-api
    compile group: 'org.slf4j', name: 'slf4j-api', version: '1.7.25'

    // https://mvnrepository.com/artifact/ch.qos.logback/logback-classic
    compile group: 'ch.qos.logback', name: 'logback-classic', version: '1.2.3'

    // https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc
    compile group: 'org.xerial', name: 'sqlite-jdbc', version: '3.18.0'

    testCompile group: 'junit', name: 'junit', version: '4.12'
    compile "org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version"
}

mainClassName = 'usbbot.main.UsbBot'

jar {
    manifest {
        attributes 'Main-Class': 'usbbot.main.UsbBot'
    }
}

task fatCapsule(type: FatCapsule) {
    applicationClass 'usbbot.main.UsbBot'
}

